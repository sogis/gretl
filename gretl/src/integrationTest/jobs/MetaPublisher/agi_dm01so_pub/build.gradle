import ch.so.agi.gretl.tasks.*
import ch.so.agi.gretl.api.TransferSet

apply plugin: 'ch.so.agi.gretl'

defaultTasks 'publishMetaFiles'

tasks.register('publishFiles', Publisher) {
    dataIdent = "ch.so.agi.av.dm01_so"
    target = [project.buildDir]  
    sourcePath = file("itf/dummy.itf") 
    region = ".*" 
    modeldir = "%XTF_DIR;../../ili/;https://models.interlis.ch/"
    validationConfig = "$projectDir/validation.ini"
}

tasks.register('publishMetaFiles', MetaPublisher) {
    dependsOn 'publishFiles'
    metaConfigFile = file("meta-dm01_so.toml")
    target = [project.buildDir]  
    regions = publishFiles.publishedRegions
}
